version = '0.1'
group = 'uk.co.nickthecoder'

buildscript {
    ext.kotlin_version = '1.1.2-2'
    repositories {
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

apply plugin: 'maven'
apply plugin: 'eclipse'
apply plugin: 'idea'

subprojects {

    group = 'nickthecoder.co.uk'
    version = '0.1'

    apply plugin: 'kotlin'

    repositories {
        mavenCentral()
        mavenLocal()
        jcenter()
        maven {
            url "https://github.com/rahmanusta/terminalfx/raw/master/releases"
        }
        flatDir {
            dirs 'libs'
        }
    }

}

project(':app') {

    dependencies {
        compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
        compile 'org.codehaus.groovy:groovy-all:2.4.9'
        compile 'com.eclipsesource.minimal-json:minimal-json:0.9.4'
        compile 'org.fxmisc.richtext:richtextfx:0.6.10'
        compile 'mysql:mysql-connector-java:5.1.6'
        compile project(':core')

        testCompile 'junit:junit:4.11'
        testCompile group: 'org.loadui', name: 'testFx', version: '3.1.0'
    }

    apply plugin: 'application'
    mainClassName = "uk.co.nickthecoder.paratask.StartTaskKt"

    defaultTasks 'installApp'
}

project(':core') {

    dependencies {
        compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
        compile 'org.codehaus.groovy:groovy-all:2.4.9'
        compile 'com.eclipsesource.minimal-json:minimal-json:0.9.4'

        apply plugin: 'application'

        defaultTasks 'install'
    }
}
